/* =========================================================
   Nikitaâ€™s Forestspace
   MySpace-inspired interactive forest
   FULL styles.css
   ========================================================= */

/* -------------------------
   Variables
-------------------------- */
:root {
  --panel-bg: rgba(10, 18, 14, 0.72);
  --panel-border: rgba(160, 255, 200, 0.30);
  --text: #eafff2;
  --muted: rgba(234, 255, 242, 0.75);
  --accent: #ff7bd1;
  --accent2: #8cffc2;
  --shadow: rgba(0, 0, 0, 0.45);

  --cursor-url: url("assets/cursor/cursor.png");
}

/* -------------------------
   Base reset
-------------------------- */
* { box-sizing: border-box; }

html, body {
  margin: 0;
  padding: 0;
  min-height: 100%;
}

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont,
    "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Helvetica Neue", Arial, sans-serif;

  color: var(--text);

  /* ðŸŒ² Forest background */
  background:
    linear-gradient(rgba(0,0,0,0.35), rgba(0,0,0,0.65)),
    url("assets/ui/bg-forest.png") center / cover fixed no-repeat;

  cursor: var(--cursor-url) 6 2, auto;
  overflow-x: hidden;
}

/* -------------------------
   Main container
-------------------------- */
.container {
  position: relative;
  z-index: 2;
  max-width: 1100px;
  margin: 0 auto;
  padding: 24px 16px 80px;
}

/* -------------------------
   Overlay (Enter gate)
-------------------------- */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.65);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999;
}

.overlay.hidden {
  display: none;
}

.overlayCard {
  width: min(560px, calc(100% - 32px));
  padding: 22px;
  border-radius: 20px;
  background: rgba(10, 18, 14, 0.92);
  border: 1px solid rgba(255,255,255,0.15);
  box-shadow: 0 20px 80px rgba(0,0,0,0.6);
  text-align: center;
}

.enterActions {
  display: flex;
  gap: 12px;
  justify-content: center;
  margin-top: 16px;
}

/* -------------------------
   Buttons
-------------------------- */
button {
  appearance: none;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(0,0,0,0.45);
  color: var(--text);
  padding: 10px 16px;
  border-radius: 14px;
  cursor: pointer;
  font-size: 14px;
  transition: transform 120ms ease, filter 120ms ease;
}

button:hover {
  transform: translateY(-1px);
  filter: brightness(1.1);
}

button.secondary {
  opacity: 0.85;
}

/* -------------------------
   Typography
-------------------------- */
h1, h2, h3, h4 {
  margin: 0 0 10px 0;
  font-weight: 600;
}

.tiny {
  font-size: 12px;
  color: var(--muted);
}

/* -------------------------
   Cards
-------------------------- */
.card {
  background: var(--panel-bg);
  border: 1px solid var(--panel-border);
  border-radius: 20px;
  padding: 18px;
  box-shadow: 0 14px 40px var(--shadow);
  backdrop-filter: blur(10px);
}

.card.wide {
  grid-column: span 2;
}

@media (max-width: 900px) {
  .card.wide { grid-column: span 1; }
}

/* -------------------------
   Grid layout
-------------------------- */
.grid {
  display: grid;
  grid-template-columns: 1.4fr 1fr;
  gap: 16px;
}

@media (max-width: 900px) {
  .grid { grid-template-columns: 1fr; }
}

/* -------------------------
   Forest Scene
-------------------------- */
#scene {
  position: relative;
  width: 100%;
  height: 420px;
  margin: 24px 0;
  border-radius: 20px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(0,0,0,0.15);
}

#sceneLayer {
  position: absolute;
  inset: 0;
}

/* -------------------------
   Mushrooms
-------------------------- */
.mushroom {
  position: absolute;
  width: 84px;
  pointer-events: none;
  user-select: none;
  filter: drop-shadow(0 10px 10px rgba(0,0,0,0.35));
}

/* -------------------------
   Kitty sprites
-------------------------- */
.kitty {
  position: absolute;
  width: 96px;
  height: 96px;
  pointer-events: none;
  user-select: none;
  transform-origin: 50% 80%;
  filter: drop-shadow(0 14px 12px rgba(0,0,0,0.45));
  transform: scaleX(var(--facing, 1));
}

/* -------------------------
   Sprite animations
-------------------------- */
@keyframes run {
  to { background-position: 100% 0; }
}

@keyframes bob {
  0%,100% { translate: 0 0; }
  50% { translate: 0 -2px; }
}

@keyframes hop {
  0% { translate: 0 0; }
  60% { translate: 0 -18px; }
  100% { translate: 0 0; }
}

/* ORANGE */
.kitty.orange.run {
  background: url("assets/cats/orange_run.png") 0 0 / 800% 100% no-repeat;
  animation: run 700ms steps(8) infinite;
}
.kitty.orange.idle {
  background: url("assets/cats/orange_stretch.png") 0 0 / 800% 100% no-repeat;
  animation: run 1200ms steps(8) infinite;
}

/* BLACK */
.kitty.black.run {
  background: url("assets/cats/black_run.png") 0 0 / 800% 100% no-repeat;
  animation: run 620ms steps(8) infinite;
}
.kitty.black.idle {
  background: url("assets/cats/black_idle.png") center / contain no-repeat;
  animation: bob 500ms ease-in-out infinite;
}

/* GREY */
.kitty.grey.walk {
  background: url("assets/cats/grey_walk.png") 0 0 / 800% 100% no-repeat;
  animation: run 1000ms steps(8) infinite;
}
.kitty.grey.sleep {
  background: url("assets/cats/grey_sleep.png") 0 0 / 800% 100% no-repeat;
  animation: run 1400ms steps(8) infinite;
}
.kitty.grey.hiss {
  background: url("assets/cats/grey_hiss.png") 0 0 / 800% 100% no-repeat;
  animation: run 800ms steps(8) infinite;
}
.kitty.grey.idle {
  background: url("assets/cats/grey_idle.png") center / contain no-repeat;
  animation: bob 900ms ease-in-out infinite;
}

/* Hop overlay */
.kitty.hop {
  animation:
    hop 260ms ease-out 1,
    run 700ms steps(8) infinite;
}

/* -------------------------
   Footer
-------------------------- */
.footer {
  margin-top: 40px;
  text-align: center;
  font-size: 12px;
  color: var(--muted);
}
